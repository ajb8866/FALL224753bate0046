---
title: "LAB1"
author: "Averi Bates"
date: "2022-08-31"
output: 
  html_document:
    toc: yes
    toc_float: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
# Tasks

## Task 1
```{r}
getwd()
```

## Task 2
```{r}
epagas = read.csv("EPAGAS.csv")
head(epagas)
```


## Task 3
```{r}
mpg = epagas$MPG
z=(mpg-mean(mpg))/sd(mpg)
head(z)
print(paste0("mean = ", round(mean(z), digits = 4)), quote = F)
print(paste0("variance = ",var(z)), quote = F)
print(paste0("standard deviation = ", sd(z)), quote = F)
```
```{r}
# Find the values of z that are possible outliers
z[abs(z)>=2 & abs(z)<=3]
#Find the values of mpg which are possible outliers
mpg[abs(z)>2 & abs(z)<=3]
# Find the z values greater than 3 in size which are outliers
z[abs(z)>3]
# Find the mpg values corresponding to these z values which are outliers
mpg[abs(z)>3]
```
```{r}
# Plot the outliers in red and the possible outliers in blue
mycol = ifelse(abs(z)>3, "Red",
        ifelse(abs(z)>=2 &abs(z)<=3,"Blue", "Black")) 
library(lattice)
dotplot(mpg,col=mycol)
```


## Task 4
```{r}
boxplot(mpg, main = "MPG Boxplot", xlab = "MPG", col = "black", horizontal = T, notch = T)
```

### Chebyshev’s Theorem
For every numerical data and a real value k > 1, the proportion of data within k standard deviations of the mean is at least:

$$1-1/k^2$$

k = 2 when data is within 2 standard deviations of the mean 
```{r}
k = 2
ch = 1 - (1/(k^2))
ch
```

```{r}
## Within 2 standard deviations of the mean
## At least 3/4 of the mpg data will fall within 2 standard deviations
print("prediction = at least 3/4")

## What is actually the case?
length(mpg[abs(z)<2])/length(mpg)
```
Chebyshev's theorem does agree with the proportions of the data set as 96% of the falls with 2 standard deviations of the mean) compared to the necessary 75%.

### Empirical Rule
The empirical rule says that, in a normal data set, virtually every piece of data will fall within three standard deviations of the mean.

1. Within the first standard deviation from the mean, 68% of all data rests
2. 95% of all the data will fall within two standard deviations
3. Nearly all of the data – 99.7% – falls within three standard deviations

This means the mpg data corresponds well with the Empirical Rule as 96% of the data falls within 2 standard deviation of the means. 

In this case the Empirical Rule is valid because it meets the three rules as shown above. The data falls within 68% for 1 standard deviation, 96% for 2 standard deviation and, and 99.7% for 3 standard deviation. 
```{r}
## Within 1 standard deviations of the mean
length(mpg[abs(z)<1])/length(mpg)
## Within 2 standard deviations of the mean
length(mpg[abs(z)<2])/length(mpg)
## Within 3 standard deviations of the mean
print(paste0(length(mpg[abs(z)<3])/length(mpg), digits = 7), quote = F)
```

